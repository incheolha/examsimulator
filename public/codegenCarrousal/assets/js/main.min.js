!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):"undefined"!=typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){"use strict";function b(){var a=!!("ontouchstart"in document.documentElement||navigator.userAgent.match(/Mobi/));return a}function c(b,c){"undefined"==typeof c&&(c=!1);var e=12;b.indexOf("-2")!==-1&&(e=6),b.indexOf("-3")!==-1&&(e=5),b.indexOf("-4")!==-1&&(e=4),a(b).multiple({infinite:!0,centermode:!0,slidesToShow:e,slidesToScroll:1,dots:!1,variableWidth:!0,draggable:!1,rtl:c,arrows:!0}),setTimeout(function(){d()},500)}function d(){a(".m-track").each(function(){var b=a(this);b.draggable({revert:function(a,b){return!0},revertDuration:500,drag:function(a,c){Math.abs(c.originalPosition.left-c.position.left)>=30&&(b.trigger("mouseup"),c.originalPosition.left>c.position.left&&"l"?"rtl"===b.parent().parent().attr("dir")?b.parent().parent().parent().parent().find(".m-nav .up").click():b.parent().parent().parent().parent().find(".m-nav .down").click():"rtl"===b.parent().parent().attr("dir")?b.parent().parent().parent().parent().find(".m-nav .down").click():b.parent().parent().parent().parent().find(".m-nav .up").click())},axis:"x",distance:10})})}function g(){a(".multiple").each(function(){var b=a(this);if(a(window).width()>b.find(".m-1-1 .m-item").first().width()+10){for(var c=0,d=b.find(".m-1-1").width(),e=b.find(".m-1-1 .m-item").first().width()+8;d>e;)d-=e;for(;d<0;)d+=e;c=d/2+2,b.find(".m-1-1 .m-list").css({left:c-e})}})}function h(){var b,c,d,e,f;a(".multiple").each(function(){var g=a(this),h=g.find(".m-1-2 .m-item").width()+4;if(a(window).width()>10&&(b=0,g.hasClass("m-2c"))){for(c=g.find(".m-1-2").width(),d=c,e=708+g.find(".m-1-2 .m-item").first().width()-247,f=35+g.find(".m-1-2 .m-item").first().width()-237,b=(e-d)/2+f;b>h;)b-=h;for(;b<0;)b+=h;g.find(".m-1-2 .m-list").css({left:b-8}),g.find(".m-2-2 .m-list").css({right:b-8})}if(g.width()<=2*g.find(".m-item").first().width()+60){for(b=0,c=g.find(".m-1-2").width(),d=c,e=708+g.find(".m-1-2 .m-item").first().width()-247,f=35+g.find(".m-1-2 .m-item").first().width()-247,h=g.find(".m-1-2 .m-item").first().width()+4,b=(e-d)/2+f;b>h;)b-=h;for(;b<0;)b+=h;g.find(".m-1-2 .m-list").css({left:b-8}),g.find(".m-2-2 .m-list").css({right:b-8})}})}function i(){if(a(window).width()>10){var b=0,c=a(".m-1-3").width(),d=c,e=482+a(".m-1-3 .m-item").first().width()-247,f=140+a(".m-1-3 .m-item").first().width()-247,g=a(".m-1-3 .m-item").first().width()+4;for(b=(e-d)/2+f;b>g;)b-=g;for(;b<0;)b+=g;a(".m-1-3 .m-list").css({right:b}),a(".m-2-3 .m-list").css({right:b}),a(".m-3-3 .m-list").css({right:b})}}function j(){if(a(window).width()>10){var b=0,c=a(".m-1-4").width(),d=c,e=358+a(".m-1-4 .m-item").first().width()-247,f=201+a(".m-1-4 .m-item").first().width()-247,g=a(".m-1-4 .m-item").first().width()+4;for(b=(e-d)/2+f;b>g;)b-=g;for(;b<0;)b+=g;a(".m-1-4 .m-list").css({right:b}),a(".m-2-4 .m-list").css({right:b}),a(".m-3-4 .m-list").css({right:b}),a(".m-4-4 .m-list").css({right:b})}}function k(a,b){"undefined"==typeof b&&(b=1e3),a.parent().parent().hasClass("m-reponsive-except")?(a.find(".m-click-mask").css({display:"block"}),a.find(".m-item").addClass("m-ocult").css({zIndex:10,opacity:.5})):a.find(".m-click-mask").css({display:"none"})}function l(a){var c=a.parent().parent().parent().parent().width(),d=a.parent().parent().parent().parent().parent().parent();a.css({zIndex:1005}),d.hasClass("m-reponsive-except")&&(b()?(a.removeClass("m-ocult").css({opacity:1}),c>5*a.width()?(a.prev().prev().removeClass("m-ocult").css({zIndex:1005,opacity:1}),a.prev().removeClass("m-ocult").css({zIndex:1005,opacity:1}),a.next().removeClass("m-ocult").css({zIndex:100,opacity:1}),a.next().next().removeClass("m-ocult").css({zIndex:1005,opacity:1})):c>3*a.width()&&(a.prev().removeClass("m-ocult").css({zIndex:1005,opacity:1}),a.next().removeClass("m-ocult").css({zIndex:1005,opacity:1}))):(a.removeClass("m-ocult").stop().animate({opacity:1}),c>5*a.width()?(a.prev().prev().removeClass("m-ocult").css({zIndex:1005}).stop().animate({opacity:1}),a.prev().removeClass("m-ocult").css({zIndex:1005}).stop().animate({opacity:1}),a.next().removeClass("m-ocult").css({zIndex:1005}).stop().animate({opacity:1}),a.next().next().removeClass("m-ocult").css({zIndex:1005}).stop().animate({opacity:1})):c>3*a.width()&&(a.prev().removeClass("m-ocult").css({zIndex:1005}).stop().animate({opacity:1}),a.next().removeClass("m-ocult").css({zIndex:1005}).stop().animate({opacity:1}))))}function m(){a(".multiple").find(".m-nav .down").click(),setTimeout(function(){a(".m-2c,.m-triple,.m-quadruple").each(function(){a(this).find(".m-content ").each(function(){var b=a(this),c=b.width()/2+b.position().left;b.find(".m-item").each(function(){var d=a(this),e=d.offset().left+d.width()/2,f=c-e;b.find(".m-block").attr("dir");k(b,1),f>-25&&f<25&&setTimeout(function(){l(d)},300)})})})},300)}function o(b){if(n=0,"undefined"==typeof b)a(".m-2c,.m-triple,.m-quadruple").each(function(){a(this).find(".m-content ").each(function(){var b=a(this),c=b.width()/2+b.position().left;b.find(".m-item").each(function(){var d=a(this),e=d.offset().left+d.width()/2,f=c-e;b.find(".m-block").attr("dir");f>-25&&f<25&&k(b)})})});else{var c=b;if(!c.parent().parent().hasClass("m-2d")&&!c.parent().parent().hasClass("m-mono")){var d=c.width()/2+c.position().left;c.find(".m-item").each(function(){var b=a(this),e=b.offset().left+b.width()/2,f=d-e;c.find(".m-block").attr("dir");f>-25&&f<25&&k(c)})}}}function p(b){if("undefined"==typeof b)a(".m-2c,.m-triple,.m-quadruple").each(function(){a(this).find(".m-content ").each(function(){var b=a(this),c=b.width()/2+b.position().left;b.find(".m-item").each(function(){var d=a(this),e=d.offset().left+d.width()/2,f=c-e;b.find(".m-block").attr("dir");f>-25&&f<25&&(l(d),n=1)})})});else{var c=b;if(!c.parent().parent().hasClass("m-2d")&&!c.parent().parent().hasClass("m-mono")){var d=c.width()/2+c.position().left;c.find(".m-item").each(function(){var b=a(this),e=b.offset().left+b.width()/2,f=d-e;c.find(".m-block").attr("dir");f>-25&&f<25&&(l(b),n=1)})}}}function q(){a(".m-2c,.m-triple,.m-quadruple").find(".m-track").append('<div class="m-click-mask"></div>'),setTimeout(function(){a(".m-1-2 .m-img .m-view").attr("dir","ltr"),g(),h(),i(),j()},10),setTimeout(function(){m(),showCarousel()},100)}function r(a){a||(a="http://xxx.co.uk/xxx/script.js");for(var b=document.getElementsByTagName("link"),c=b.length;c--;)if(b[c].href.indexOf(a)!==-1)return!0;return!1}function x(b){b.hasClass("m-autoplay")||b.addClass("m-autoplay"),t.push(b.attr("id")),b.find(".player i").removeClass("fa-play-circle-o"),b.find(".player i").addClass("fa-pause-circle-o");var c=setInterval(function(){v&&(a.fn.visible?b.find(".m-recipient").visible(!0)&&(b.find(".m-nav .down").click(),setTimeout(function(){o()},600),setTimeout(function(){p()},700)):(b.find(".m-nav .down").click(),setTimeout(function(){o()},600),setTimeout(function(){p()},700)))},autoplayInterval);u.push(c)}function y(a){a.hasClass("m-autoplay")&&a.removeClass("m-autoplay");var b;for(b=0;b<t.length;b++)if(t[b]===a.attr("id")){clearInterval(u[b]),u.splice(b,1),t.splice(b,1),a.find(".player i").removeClass("fa-pause-circle-o"),a.find(".player i").addClass("fa-play-circle-o");break}}function A(){a(".multiple").each(function(){var b=a(this);b.attr("id")&&void 0!==b.attr("id")||b.uniqueId(),b.hasClass("m-autoplay")&&x(b)})}var n;a(".multiple:not(.only-excerpt) .m-img .m-view,.portfolio .m-view").css({opacity:0}),r("awesome")||(a(".m-footer-link .m-star, .m-footer-link .ribbon-end").remove(),a(".m-footer-link .m-f-link").css({paddingRight:"5px"}),a("i.fa").addClass("m-no-aw2"),a("i.fa-chevron-up").addClass("m-no-aw3"),a(".m-leftnav i.fa-chevron-up, .m-rightnav i.fa-chevron-up").addClass("m-no-aw4"),a(".multiple .m-view i").removeClass("m-zoom-out"),a(".m-view i.fa-share-alt").html("S"),a(".m-view i.fa-heart-o ").html("F"),a(".m-view i.fa-search-plus").html("+"),a(".m-view i.fa-fire").html("H"),a(".m-view i.fa-flag-o").html("C"),a("i.fa-chevron-down").html("+"),a("i.fa-chevron-up").html("-"),a("i.fa-pause-circle-o").html(">"),a("i.fa-play-circle-o").html(">"),a(".multiple .m-view i").addClass("m-no-aw1"),a(".multiple .m-view").append("<div class='m-no-bo'></div>")),a(".multiple .m-view i.m-no-aw1").on({mouseenter:function(){r("bootstrap")||a(this).parent().parent().find(".m-no-bo").html("("+a(this).attr("title")+")")},mouseleave:function(){r("bootstrap")||a(this).parent().parent().find(".m-no-bo").html("")}});var t=[],u=[],v=1,w=1;A(),a(".player i").on({click:function(){a(this).hasClass("fa-pause-circle-o")?y(a(this).parent().parent().parent().parent()):a(this).hasClass("fa-play-circle-o")&&x(a(this).parent().parent().parent().parent())}}),a(".multiple .m-content").on({mouseenter:function(){w&&(v=0,a(this).parent().parent().hasClass("m-autoplay")&&a(this).parent().find(".m-nav .player i").hasClass("fa-pause-circle-o")&&(a(this).parent().find(".m-nav .player i").removeClass("fa-pause-circle-o"),a(this).parent().find(".m-nav .player i").addClass("fa-play-circle-o")))},mouseleave:function(){w&&(v=1,a(this).parent().parent().hasClass("m-autoplay")&&a(this).parent().find(".m-nav .player i").hasClass("fa-play-circle-o")&&(a(this).parent().find(".m-nav .player i").removeClass("fa-play-circle-o"),a(this).parent().find(".m-nav .player i").addClass("fa-pause-circle-o")))}}),a(".multiple .down,.multiple .up").on({click:function(b){void 0===b.originalEvent||(setTimeout(function(){o()},600),setTimeout(function(){p()},700),a(this).parent().parent().parent().hasClass("m-autoplay")&&y(a(this).parent().parent().parent()))}}),a(document).keydown(function(b){37===b.keyCode?a(".multiple").each(function(){a.fn.visible?a(this).visible(!0)&&a(this).find(".m-nav .up").click():a(this).find(".m-nav .up").click()}):39===b.keyCode&&a(".multiple").each(function(){a.fn.visible?a(this).visible(!0)&&a(this).find(".m-nav .down").click():a(this).find(".m-nav .down").click()})}),a(".m-recipient").bind("DOMMouseScroll mousewheel",function(b){return b.originalEvent.wheelDelta>0||b.originalEvent.detail<0?(a(this).find(".m-nav .down").click(),!1):(a(this).find(".m-nav .up").click(),!1)}),c(".m-1-1 .m-block"),c(".m-2d .m-1-2 .m-block",!0),c(".m-2d .m-2-2 .m-block"),c(".m-2c .m-1-2 .m-block",!0),c(".m-2c .m-2-2 .m-block"),c(".m-1-3 .m-block, .m-2-3 .m-block, .m-3-3 .m-block"),c(".m-1-4 .m-block, .m-2-4 .m-block, .m-3-4 .m-block, .m-4-4 .m-block"),setTimeout(function(){a(".m-block").css({width:"100%"}),q()},100),a(".m-icon-icon a").on("mouseenter",function(){a(this).parent().parent().parent().find(".m-item-title a").css({top:"-1000px"})}),a(".m-icon-icon a").on("mouseleave",function(){a(this).parent().parent().parent().find(".m-item-title a").css({top:"0px"})}),a(document).on("mouseenter",".m-click-mask",function(b){var c=a(this).parent().parent().parent().parent(),d=c.width()/2+c.position().left;b.pageX>d?(a(this).removeClass("m-left-mouse"),a(this).removeClass("m-right-mouse"),a(this).addClass("m-right-mouse")):(a(this).removeClass("m-left-mouse"),a(this).removeClass("m-right-mouse"),a(this).addClass("m-left-mouse"))}),a(document).on("mouseleave",".m-click-mask",function(b){a(this).parent().parent().parent().parent()}),a(document).on("click",".m-click-mask",function(b){var c=a(this).parent().parent().parent().parent(),d=c.width()/2+c.position().left,e=c.find(".m-block").attr("dir");n&&(b.pageX>d?e?c.find(".m-prev").click():c.find(".m-next").click():e?c.find(".m-next").click():c.find(".m-prev").click())}),a(".m-nav .up").on("click",function(b){a(this).parent().parent().find(".m-prev").trigger("click")}),a(".m-nav .down").on("click",function(b){void 0===b.originalEvent?a(this).parent().parent().find(".m-next").trigger("click"):a(this).parent().parent().find(".m-next").trigger("click")}),a(document).on("click",".m-prev,.m-next",function(b){var c=a(this).parent().parent();setTimeout(function(){o(c)},600),setTimeout(function(){p(c)},700)}),a(".m-content").on({mouseenter:function(){"block"===a(this).find(".m-click-mask").css("display")?(a(this).parent().parent().hasClass("m-2c")||a(this).parent().parent().hasClass("m-triple")||a(this).parent().parent().hasClass("m-quadruple"))&&a(this).css({backgroundColor:"#fcf7a7"}):a(this).css({backgroundColor:"transparent"})},mouseleave:function(){"block"===a(this).find(".m-click-mask").css("display")&&a(this).css({backgroundColor:"transparent"})}}),a(".m-item").on({mouseenter:function(){var b=a(this).find(".m-img");b.find(".m-view i").css({marginTop:"0px"}),b.find(".m-view").stop().animate({opacity:1},200,"easeOutQuad");var c=1.2;a(this).find("img").last().data("w")||a(this).find("img").last().data("w",a(this).find("img").last().width()).data("h",a(this).find("img").last().height()),a(this).find("img").last().stop(!0).animate({width:a(this).find("img").last().data("w")*c,height:a(this).find("img").last().data("h")*c,left:-a(this).find("img").last().data("w")*(c-1)/2,opacity:"0.2",top:-a(this).find("img").last().data("h")*(c-1)/2},{duration:400,queue:!1})},mouseleave:function(){var b=a(this).find(".m-img");a(this).parent().parent().parent().parent().parent();b.parent().parent().parent().parent().parent().parent().parent().hasClass("only-excerpt")||b.parent().parent().parent().parent().parent().parent().parent().parent().hasClass("only-excerpt")||b.find(".m-view").stop().animate({opacity:0},1e3,"easeOutQuad"),a(this).find("img").last().stop(!0).animate({width:a(this).find("img").last().data("w"),height:a(this).find("img").last().data("h"),opacity:"1",left:0,top:0},{duration:400,queue:!1})}});var B=a(window).width();a(window).on("resize",function(){var d=0;if(b()){var e=a(window).width(),f=B>e?B:e,g=B<e?B:e,h=f/g;B=e,h>1.35&&(d=1)}else d=1;d&&(a(".multiple .m-block").multiple("unmultiple"),checkResponsive(),c(".m-1-1 .m-block"),c(".m-2d .m-1-2 .m-block",!0),c(".m-2d .m-2-2 .m-block"),c(".m-2c .m-1-2 .m-block",!0),c(".m-2c .m-2-2 .m-block"),c(".m-1-3 .m-block, .m-2-3 .m-block, .m-3-3 .m-block"),c(".m-1-4 .m-block, .m-2-4 .m-block, .m-3-4 .m-block, .m-4-4 .m-block"),setTimeout(function(){q()},500))})});
